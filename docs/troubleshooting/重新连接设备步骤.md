# ğŸ“± é‡æ–°è¿æ¥ iPhone å¹¶è¿è¡Œåº”ç”¨

## å½“å‰çŠ¶æ€
âœ… ä»£ç å·²ä¿®å¤ç©ºç™½é¡µé¢é—®é¢˜
âš ï¸ è®¾å¤‡å·²æ–­å¼€è¿æ¥ï¼Œéœ€è¦é‡æ–°è¿æ¥

## ğŸ”Œ é‡æ–°è¿æ¥æ­¥éª¤

### æ­¥éª¤ 1ï¼šç‰©ç†è¿æ¥
1. ç”¨ USB çº¿å°† iPhone è¿æ¥åˆ° Mac
2. è§£é” iPhoneï¼ˆè¾“å…¥å¯†ç ï¼‰
3. å¦‚æœ iPhone å¼¹å‡ºæç¤º"è¦ä¿¡ä»»æ­¤ç”µè„‘å—ï¼Ÿ"
   - ç‚¹å‡» **"ä¿¡ä»»"**
   - å¯èƒ½éœ€è¦å†æ¬¡è¾“å…¥ iPhone å¯†ç 

### æ­¥éª¤ 2ï¼šéªŒè¯è¿æ¥
æ‰“å¼€ç»ˆç«¯ï¼Œè¿è¡Œï¼š
```bash
cd /Users/xionghao/Documents/plaud/GitHub/flutter-ble
flutter devices
```

**æœŸæœ›è¾“å‡º**ï¼š
```
Found 4 connected devices:
  xionghao-iPhone (mobile)        â€¢ 00008140-000C384614FA801C â€¢ ios â€¢ iOS 26.1 23B82
  macOS (desktop)                 â€¢ macos                     â€¢ ...
  Mac Designed for iPad (desktop) â€¢ mac-designed-for-ipad     â€¢ ...
  Chrome (web)                    â€¢ chrome                    â€¢ ...
```

âœ… å¦‚æœçœ‹åˆ° `xionghao-iPhone`ï¼Œè¯´æ˜è¿æ¥æˆåŠŸï¼

âŒ å¦‚æœçœ‹ä¸åˆ°è®¾å¤‡ï¼Œè¯·å°è¯•ï¼š
```bash
# æ–¹æ³• 1ï¼šé‡å¯ iOS å¼€å‘è€…æœåŠ¡
sudo killall -9 com.apple.CoreSimulator.CoreSimulatorService

# æ–¹æ³• 2ï¼šé‡æ–°æ‹”æ’ USB çº¿

# æ–¹æ³• 3ï¼šé‡å¯ iPhone
# é•¿æŒ‰ç”µæºé”® + éŸ³é‡é”®ï¼Œæ»‘åŠ¨å…³æœºï¼Œç„¶åé‡æ–°å¼€æœº

# æ–¹æ³• 4ï¼šé‡å¯ Macï¼ˆæœ€åæ‰‹æ®µï¼‰
```

### æ­¥éª¤ 3ï¼šè¿è¡Œåº”ç”¨

#### æ–¹æ³• Aï¼šä½¿ç”¨å‘½ä»¤è¡Œï¼ˆæ¨èï¼‰
```bash
cd /Users/xionghao/Documents/plaud/GitHub/flutter-ble
export LANG=en_US.UTF-8
flutter run --profile -d 00008140-000C384614FA801C
```

#### æ–¹æ³• Bï¼šä½¿ç”¨å¿«æ·è„šæœ¬
```bash
cd /Users/xionghao/Documents/plaud/GitHub/flutter-ble
./debug_device.sh
# ç„¶åé€‰æ‹© 1 (Profile æ¨¡å¼)
```

#### æ–¹æ³• Cï¼šä½¿ç”¨ Xcode
```bash
# æ‰“å¼€ Xcode é¡¹ç›®
open ios/Runner.xcworkspace

# ç„¶åï¼š
# 1. åœ¨ Xcode é¡¶éƒ¨é€‰æ‹©ä½ çš„è®¾å¤‡ "xionghao-iPhone"
# 2. ç‚¹å‡» â–¶ï¸ è¿è¡ŒæŒ‰é’®
```

### æ­¥éª¤ 4ï¼šç­‰å¾…ç¼–è¯‘å®‰è£…
- é¦–æ¬¡ç¼–è¯‘éœ€è¦ 20-40 ç§’
- çœ‹åˆ° "Xcode build done" è¡¨ç¤ºç¼–è¯‘æˆåŠŸ
- çœ‹åˆ° "Installing and launching..." è¡¨ç¤ºæ­£åœ¨å®‰è£…
- æœ€åä¼šæ˜¾ç¤º "Flutter run key commands" è¡¨ç¤ºè¿è¡ŒæˆåŠŸ

### æ­¥éª¤ 5ï¼šåœ¨ iPhone ä¸ŠæŸ¥çœ‹
1. åº”ç”¨ä¼šè‡ªåŠ¨å¯åŠ¨
2. é¦–æ¬¡è¿è¡Œå¯èƒ½ä¼šè¯·æ±‚æƒé™ï¼š
   - **ä½ç½®æƒé™**ï¼šé€‰æ‹©"ä½¿ç”¨ App æœŸé—´"
   - **è“ç‰™æƒé™**ï¼šè‡ªåŠ¨æˆäºˆ
3. åº”è¯¥èƒ½çœ‹åˆ°åŠ è½½åŠ¨ç”»å’ŒçŠ¶æ€æç¤º
4. æ‰«æå®Œæˆåä¼šæ˜¾ç¤ºé™„è¿‘çš„è“ç‰™è®¾å¤‡

## ğŸ¯ é¢„æœŸæ•ˆæœ

### 1. å¯åŠ¨ç”»é¢
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Flutter BLE Demo    ğŸ”„ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                          â”‚
â”‚          ğŸ”„              â”‚
â”‚   æ­£åœ¨è¯·æ±‚æƒé™...         â”‚
â”‚                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. æ‰«æä¸­
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Flutter BLE Demo    ğŸ”„ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                          â”‚
â”‚          ğŸ”„              â”‚
â”‚   æ­£åœ¨æ‰«æè“ç‰™è®¾å¤‡...     â”‚
â”‚                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. æ˜¾ç¤ºè®¾å¤‡åˆ—è¡¨
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Flutter BLE Demo    â†»  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“± Device Name           â”‚
â”‚    AA:BB:CC:DD:EE:FF     â”‚
â”‚              [Connect]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“± Another Device        â”‚
â”‚    11:22:33:44:55:66     â”‚
â”‚              [Connect]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âš ï¸ å¸¸è§é—®é¢˜

### Q1: è®¾å¤‡è¿æ¥ååˆæ–­å¼€äº†
**A**: å¯èƒ½æ˜¯æ— çº¿è°ƒè¯•å¹²æ‰°
```bash
# ç¦ç”¨æ— çº¿è°ƒè¯•ï¼Œåªç”¨ USB
# iPhone è®¾ç½® â†’ éšç§ä¸å®‰å…¨æ€§ â†’ å¼€å‘è€…æ¨¡å¼ â†’ å…³é—­æ— çº¿è°ƒè¯•
```

### Q2: flutter devices ä¸€ç›´å¡ä½
**A**: 
```bash
# 1. æŒ‰ Ctrl+C ç»ˆæ­¢
# 2. é‡å¯ USB æ¡¥æ¥æœåŠ¡
brew reinstall libimobiledevice
brew reinstall ideviceinstaller

# 3. é‡æ–°æ£€æŸ¥
flutter devices
```

### Q3: åº”ç”¨å®‰è£…åç«‹å³é—ªé€€
**A**: å¯èƒ½æ˜¯ç­¾åé—®é¢˜
```bash
# åœ¨ Xcode ä¸­ï¼š
# 1. æ‰“å¼€ ios/Runner.xcworkspace
# 2. é€‰æ‹© Runner é¡¹ç›® â†’ Signing & Capabilities
# 3. ç¡®è®¤ Team å·²é€‰æ‹©
# 4. ç¡®è®¤ Bundle Identifier å”¯ä¸€
```

### Q4: æƒé™å¼¹çª—æ²¡å‡ºç°
**A**: æ‰‹åŠ¨è®¾ç½®æƒé™
1. iPhone è®¾ç½®
2. å‘ä¸‹æ»šåŠ¨æ‰¾åˆ° "Flutter Ble"
3. ç‚¹å‡»è¿›å…¥
4. å¼€å¯"ä½ç½®"æƒé™ï¼šä½¿ç”¨ App æœŸé—´
5. ç¡®è®¤"è“ç‰™"å·²å¼€å¯

### Q5: çœ‹ä¸åˆ°ä»»ä½•è“ç‰™è®¾å¤‡
**A**: 
1. ç¡®ä¿è“ç‰™è®¾å¤‡å·²å¼€å¯ä¸”å¤„äºé…å¯¹æ¨¡å¼
2. ç¡®ä¿ iPhone è“ç‰™å·²æ‰“å¼€ï¼ˆè®¾ç½® â†’ è“ç‰™ï¼‰
3. ç‚¹å‡»åº”ç”¨å³ä¸Šè§’çš„åˆ·æ–°æŒ‰é’®é‡æ–°æ‰«æ
4. æŸäº›è®¾å¤‡å¯èƒ½éœ€è¦ç‰¹å®šçš„æ‰«æå‚æ•°

## ğŸ“Š æŸ¥çœ‹æ—¥å¿—

å¦‚æœéœ€è¦æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ï¼Œåœ¨å¦ä¸€ä¸ªç»ˆç«¯è¿è¡Œï¼š
```bash
# æ–¹æ³• 1ï¼šFlutter æ—¥å¿—
flutter logs -d 00008140-000C384614FA801C

# æ–¹æ³• 2ï¼šè¿‡æ»¤æ—¥å¿—
flutter logs -d 00008140-000C384614FA801C | grep "BLE\|Error\|æƒé™"

# æ–¹æ³• 3ï¼šä¿å­˜æ—¥å¿—åˆ°æ–‡ä»¶
flutter logs -d 00008140-000C384614FA801C > app_logs.txt
```

## ğŸ‰ æˆåŠŸæ ‡å¿—

å½“ä½ çœ‹åˆ°ä»¥ä¸‹å†…å®¹æ—¶ï¼Œè¡¨ç¤ºåº”ç”¨è¿è¡ŒæˆåŠŸï¼š

### åœ¨ç»ˆç«¯ä¸­ï¼š
```
Xcode build done.                                           18.2s
Installing and launching...                                  2,837ms

Flutter run key commands.
h List all available interactive commands.
c Clear the screen
q Quit (terminate the application on the device).
```

### åœ¨ iPhone ä¸Šï¼š
- âœ… åº”ç”¨å›¾æ ‡å‡ºç°åœ¨ä¸»å±å¹•
- âœ… åº”ç”¨å¯åŠ¨æ˜¾ç¤ºåŠ è½½åŠ¨ç”»
- âœ… è¯·æ±‚æƒé™å¼¹çª—å‡ºç°
- âœ… æˆæƒåå¼€å§‹æ‰«æè®¾å¤‡
- âœ… è®¾å¤‡åˆ—è¡¨æ˜¾ç¤ºæˆ–ç©ºçŠ¶æ€æç¤ºæ˜¾ç¤º

## ğŸ’ª å‡†å¤‡å¥½äº†å—ï¼Ÿ

ç°åœ¨è¯·ï¼š
1. âœ… ç”¨ USB è¿æ¥ iPhone åˆ° Mac
2. âœ… è§£é” iPhone å¹¶ä¿¡ä»»ç”µè„‘
3. âœ… è¿è¡Œ `flutter devices` ç¡®è®¤è®¾å¤‡å·²è¿æ¥
4. âœ… è¿è¡Œ `flutter run --profile -d 00008140-000C384614FA801C`
5. âœ… åœ¨ iPhone ä¸ŠæŸ¥çœ‹åº”ç”¨æ•ˆæœï¼

---

æœ‰é—®é¢˜éšæ—¶å‘Šè¯‰æˆ‘ï¼ç¥è¿è¡Œé¡ºåˆ©ï¼ğŸš€

